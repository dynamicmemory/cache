<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:viewmodel="clr-namespace:App.ViewModels"
             xmlns:views="clr-namespace:App.Views"
             x:Class="App.Views.ColumnView"
             x:DataType="viewmodel:ColumnViewModel"
             Margin="0, 0, 10, 0">  <!-- Margin only on right side of column -->

    <Border Background="cyan" BorderBrush="black" BorderThickness="1" 
            CornerRadius="5" Padding="10">

        <Grid RowDefinitions="Auto, *">

            <!-- Header (Column Name + AddTask and RemoveColumn Buttons -->
            <DockPanel Grid.Row="0" LastChildFill="False" Margin="0, 0, 0, 5">
                <TextBlock Text="{Binding ColumnName}" 
                           HorizontalAlignment="Stretch"
                           MinWidth="150" 
                           MaxWidth="Infinity" 
                           FontWeight="Bold"/>

                <Button Content="+" Command="{Binding AddTaskCardCommand}"
                        Margin="5,0,0,0"/>
                <Button Content="x" Command="{Binding RemoveColumnCommand}"
                        DockPanel.Dock="Right" Margin="5,0,0,0"/>
            </DockPanel>


            <!-- Task List -->
            <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" >
                <ItemsControl ItemsSource="{Binding Tasks}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <views:TaskCardView/>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </ScrollViewer>

        </Grid>

    </Border>

</UserControl>
